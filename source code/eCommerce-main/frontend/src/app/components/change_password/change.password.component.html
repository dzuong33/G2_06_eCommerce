
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-4">
      <div class="card shadow-lg rounded-4 p-4">
        <h2 class="text-center mb-4">Đổi mật khẩu</h2>

        <form [formGroup]="changePasswordForm" (ngSubmit)="changePassword()">
          <div class="mb-3">
            <label for="currentPassword" class="form-label">Mật khẩu hiện tại</label>
            <input type="password" 
                   id="currentPassword" 
                   formControlName="currentPassword" 
                   class="form-control"
                   [class.is-invalid]="changePasswordForm.get('currentPassword')?.invalid && changePasswordForm.get('currentPassword')?.touched">
            <div class="invalid-feedback">
              Vui lòng nhập mật khẩu hiện tại.
            </div>
          </div>

          <div class="mb-3">
            <label for="newPassword" class="form-label">Mật khẩu mới</label>
            <input type="password" 
                   id="newPassword" 
                   formControlName="newPassword" 
                   class="form-control"
                   [class.is-invalid]="changePasswordForm.get('newPassword')?.invalid && changePasswordForm.get('newPassword')?.touched">
            <div class="invalid-feedback">
              Mật khẩu mới phải ít nhất 3 ký tự.
            </div>
          </div>

          <div class="mb-4">
            <label for="confirmPassword" class="form-label">Xác nhận mật khẩu mới</label>
            <input type="password" 
                   id="confirmPassword" 
                   formControlName="confirmPassword" 
                   class="form-control"
                   [class.is-invalid]="changePasswordForm.hasError('passwordMismatch') && changePasswordForm.get('confirmPassword')?.touched">
            <div class="invalid-feedback">
              Mật khẩu xác nhận không khớp.
            </div>
          </div>

          <div class="text-center">
            <button type="submit" class="btn btn-primary w-50">
              Đổi mật khẩu
            </button>
          </div>
        </form>

      </div>
    </div>
  </div>
</div>

